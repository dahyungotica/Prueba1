{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{% static '/css/carritoCompras.css' %}">
    <link rel="stylesheet" href="{% static '/css/galery.css' %}">
    <link rel="stylesheet" href="{% static '/css/styles.css' %}">

    <title>Market Twice</title>
  </head>
  <body>
    <!-- ========================================== -->
    <!-- ENCABEZADO -->
    <!-- ========================================== -->
    <header class="container-fluid bg-color d-flex justify-content-center">
      <p class="btn text-light mb-0 p-1 fs-6">!Bienvenidos a Stay u Twice!</p>
    </header>

    <!-- ========================================== -->
    <!-- CARRO DE COMPRAS TOTAL -->
    <!-- ========================================== -->
    <div id="carrito" class="container mt-3">
      <h2 class="d-flex justify-content-left">Carrito de compras</h2>
      <ul id="lista-carrito" class="list-group">
          <!-- Los elementos del carrito se mostrarán aquí -->
      </ul>
      <p class="fs-5">Total: $<span id="total-carrito">0.00</span></p>
      <li class="nav-item">
        <a class="btn-volver" href="/login/index.html/">Inicio</a>
      </li>
    </ul>
    </div>

    <!-- ========================================== -->
    <!-- INTRODUCCIÓN -->
    <!-- ========================================== -->
    <header class="container-fluid bg-color d-flex justify-content-center">
      <p class="btn text-light mb-0 p-2 fs-4">
        Escoge tus albumes, fanmades, lomocards, accesorios y ropa favoritos!
      </p>
    </header>

    <!-- ========================================== --> 
    <!-- MERCADERIA A ESCOGER -->
    <!-- ========================================== -->
    <section id="integrantes">
      <div class="card">
        <img src="{% static 'images/PoleraTwice.png'%}" alt="PoleraTwice" />
        <h2>Polera "Twice" Integrantes</h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Polera Integrantes Twice', 10.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$10.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/PoleraTwiceChibi.png'%}" alt="PoleraTwiceChibi" />
        <h2>Polera "Twice" Integrantes Chibi</h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Polera Twice Chibi', 10.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$10.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/TwiceToteBagMockup.png'%}" alt="TwiceToteBagMockup" />
        <h2>Tote Bag Mockup "Twice"</h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Tote Bag Twice', 5.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$05.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/TwicePhotocardsOficialesCandybong.jpg'%}" alt="TwicePhotocardsOficialesCandybong" />
        <h2>Photocards Oficiales "Twice"</h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Photocards Twice CandyBong', 4.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$04.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/MiniPhotobookTwiceReadytoBe.jpg'%}" alt="MiniPhotobookTwiceReadytoBe" />
        <h2>Photobook Album "Ready To Be"</h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Photobook Ready To Be', 8.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$08.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/FundaLightstickTwice.jpg'%}" alt="FundaLightstickTwice" />
        <h2>Funda Lightstick "Twice"</h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Funda Lightstick Twice', 4.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$04.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/PackFanTwice.jpg'%}" alt="PackFanTwice" />
        <h2>
          FanPack Red-Pink <br />
          "Twice"
        </h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Pack Fan de Twice Color-Red', 15.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$15.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/PackCandyBongWhite.jpg'%}" alt="PackCandyBongWhite" />
        <h2>
          FanPack White <br />
          "Twice"
        </h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Pack Fan de Twice Color-White', 13.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$13.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/LlaverosTwice.jpg'%}"  alt="LlaverosTwice" />
        <h2>Llaveritos Integrantes "Twice"</h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Llaveros de Twice', 3.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$03.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/AlbumTwiceEyesWideOpen.jpg'%}" alt="AlbumTwiceEyesWideOpen" />
        <h2>
          Album Twice<br />
          "Eyes Wide Open"
        </h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Album Eyes Wide Open', 12.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$12.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/PoleronTwice.jpg'%}" alt="PoleronTwice" />
        <h2>Poleron Black "Twice"</h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Poleron de Twice Color-Black', 18.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$18.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/PackTwiceFormulaOfLove.jpg'%}" alt="PackTwiceFormulaOfLove" />
        <h2>
          Album Twice <br />
          "Formula of Love"
        </h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Album Formula of Love', 12.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$12.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/PoleronTwiceMomo.jpg'%}" alt="PoleronTwiceMomo" />
        <h2>
          Poleron "Twice" <br />
          Black Momo
        </h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Poleron de Twice Color-BlackMomo', 18.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$18.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/PoleronTwiceWhatIsLove.jpg'%}" alt="PoleronTwiceWhatIsLove" />
        <h2>
          Poleron Twice <br />
          "What is Love?"
        </h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Poleron de Twice ¿What is Love?', 18.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$18.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/PoleronTwiceBluePink.jpg'%}" alt="PoleronTwiceBluePink" />
        <h2>
          Poleron "Twice" <br />
          Pink-Sky blue
        </h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('Poleron de Twice Color-Blue-Pink', 17.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$17.99</button>
      </div>
      
      </div>
      <div class="card">
        <img src="{% static 'images/LomocardsTwiceReadyToBe.jpg'%}" alt="LomocardsTwiceReadyToBe" />
        <h2>
          LomoCards <br />
          "Ready To Be"
        </h2>
        <div class="d-flex justify-content-center">
          <button class="btn btn-custom-color mt-3 me-2" onclick="agregarAlCarrito('LomoCards Ready To Be', 4.99)">Agregar al carrito</button>
          <button class="btn btn-custom-color mt-3 ms-2">$04.99</button>
      </div>
      
      </div>

      <footer>
        <p class="p-text">&copy; 2024 FanPage Twice</p>
      </footer>

      <!-- ========================================== -->
      <!-- FUNCIÓN AGREGAR Y ACTUALIZAR CARRITO -->
      <!-- ========================================== -->
      <script>
        let carrito = [];
        let totalCarrito = 0;

        function agregarAlCarrito(nombre, precio) {
          const producto = { nombre, precio };
          carrito.push(producto);
          totalCarrito += precio;

          actualizarCarrito();
        }

        function actualizarCarrito() {
          const listaCarrito = document.getElementById("lista-carrito");
          const totalCarritoElemento = document.getElementById("total-carrito");

          // Limpiar el carrito previo
          listaCarrito.innerHTML = "";

          // Agregar los nuevos elementos al carrito
          carrito.forEach((producto) => {
            const listItem = document.createElement("li");
            listItem.className = "list-group-item";
            listItem.textContent = `${
              producto.nombre
            } - $${producto.precio.toFixed(2)}`;
            listaCarrito.appendChild(listItem);
          });

          // Actualizar el total del carrito
          totalCarritoElemento.textContent = totalCarrito.toFixed(2);
        }
      </script>
    </section>
  </body>
</html>
